let User,Profile;_87e‍.x([["currentdeveloper",()=>currentdeveloper],["developerProfile",()=>developerProfile]]);_87e‍.w("../models/user",[["default",["User"],function(v){User=v}]]);_87e‍.w("../models/profile",[["default",["Profile"],function(v){Profile=v}]]);



       const currentdeveloper = async (req, res) => {
    try {
        let user = await User.findById(req.auth._id).select("-password").exec();
        // console.log("CURRENT DEVELOPER => ", user);
        // console.log("test", req);
        if (!user.role.includes("Developer")) {
            return res.sendStatus(403);
        } else {
            res.json({ ok: true });
        }
    } catch (err) {
        _87e‍.g.console.log(err);
    }
};

       const developerProfile = async (req, res) => {
    try {
        const profiles = await Profile.find({ developer: req.auth._id })
            .sort({ createdAt: -1 })
            .exec();
        res.json(profiles);
        _87e‍.g.console.log("Profile", profiles);
    } catch (err) {
        _87e‍.g.console.log(err);
    }
};
